[2025-04-09 21:44:01] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 21:44:01] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:44:01] [INFO] Secure session started. [in /var/www/html/src/managers/SessionManager.php:24]
[2025-04-09 21:44:01] [INFO] New session initialized. [in /var/www/html/src/managers/SessionManager.php:25]
[2025-04-09 21:44:01] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:44:01] [INFO] Routes initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:44:01] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:11]
[2025-04-09 21:44:01] [INFO] Application initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:44:01] [INFO] API entry point initialized. [in /var/www/html/api.php:23]
[2025-04-09 21:44:01] [INFO] Initializing application... [in /var/www/html/api.php:29]
[2025-04-09 21:44:01] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:44:01] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:44:01] [INFO] Routes initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:44:01] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:29]
[2025-04-09 21:44:01] [INFO] Application initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:44:01] [INFO] Routes loaded successfully. [in /var/www/html/api.php:35]
[2025-04-09 21:44:01] [INFO] Incoming request: POST /api/v1/auth/register [in /var/www/html/api.php:47]
[2025-04-09 21:44:01] [INFO] Matched route: POST /api/v1/auth/register. Executing callback. [in /var/www/html/api.php:72]
[2025-04-09 21:44:01] [DEBUG] ApiHelper::requireApiToken header: {"Host":"localhost:9081","User-Agent":"curl\/8.5.0","Accept":"*\/*","Content-Type":"application\/json","Authorization":"Bearer your_api_token_here","Content-Length":"257"} [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 21:44:01] [WARNING] Invalid API token provided. [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 21:44:01] [ERROR] Sending API error response. Status: 403, Message: Forbidden. Invalid API token. [in /var/www/html/src/helpers/ApiHelper.php:155]
[2025-04-09 21:44:01] [INFO] Sending API response. Status: 403, Message: Forbidden. Invalid API token. [in /var/www/html/src/helpers/ApiHelper.php:43]
[2025-04-09 21:44:20] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 21:44:20] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:44:20] [INFO] Secure session started. [in /var/www/html/src/managers/SessionManager.php:24]
[2025-04-09 21:44:20] [INFO] New session initialized. [in /var/www/html/src/managers/SessionManager.php:25]
[2025-04-09 21:44:20] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:44:20] [INFO] Routes initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:44:20] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:11]
[2025-04-09 21:44:20] [INFO] Application initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:44:20] [INFO] API entry point initialized. [in /var/www/html/api.php:23]
[2025-04-09 21:44:20] [INFO] Initializing application... [in /var/www/html/api.php:29]
[2025-04-09 21:44:20] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:44:20] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:44:20] [INFO] Routes initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:44:20] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:29]
[2025-04-09 21:44:20] [INFO] Application initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:44:20] [INFO] Routes loaded successfully. [in /var/www/html/api.php:35]
[2025-04-09 21:44:20] [INFO] Incoming request: GET /api/v1/auth/register [in /var/www/html/api.php:47]
[2025-04-09 21:44:20] [WARNING] Route not found: GET /api/v1/auth/register [in /var/www/html/api.php:84]
[2025-04-09 21:44:20] [ERROR] Sending API error response. Status: 404, Message: Route not found. [in /var/www/html/api.php:85]
[2025-04-09 21:44:20] [INFO] Sending API response. Status: 404, Message: Route not found. [in /var/www/html/src/helpers/ApiHelper.php:43]
[2025-04-09 21:46:05] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 21:46:05] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:46:05] [INFO] Secure session started. [in /var/www/html/src/managers/SessionManager.php:24]
[2025-04-09 21:46:05] [INFO] New session initialized. [in /var/www/html/src/managers/SessionManager.php:25]
[2025-04-09 21:46:05] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:46:05] [INFO] Routes initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:46:05] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:11]
[2025-04-09 21:46:05] [INFO] Application initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:46:05] [INFO] API entry point initialized. [in /var/www/html/api.php:23]
[2025-04-09 21:46:05] [INFO] Initializing application... [in /var/www/html/api.php:29]
[2025-04-09 21:46:05] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:46:05] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:46:05] [INFO] Routes initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:46:05] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:29]
[2025-04-09 21:46:05] [INFO] Application initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:46:05] [INFO] Routes loaded successfully. [in /var/www/html/api.php:35]
[2025-04-09 21:46:05] [INFO] Incoming request: POST /api/v1/auth/register [in /var/www/html/api.php:47]
[2025-04-09 21:46:05] [INFO] Matched route: POST /api/v1/auth/register. Executing callback. [in /var/www/html/api.php:72]
[2025-04-09 21:46:05] [DEBUG] ApiHelper::requireApiToken header: {"Host":"localhost:9081","User-Agent":"curl\/8.5.0","Accept":"*\/*","Content-Type":"application\/json","Authorization":"Bearer your_api_token_here","Content-Length":"257"} [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 21:46:05] [WARNING] Invalid API token provided. [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 21:46:05] [ERROR] Sending API error response. Status: 403, Message: Forbidden. Invalid API token. [in /var/www/html/src/helpers/ApiHelper.php:155]
[2025-04-09 21:46:05] [INFO] Sending API response. Status: 403, Message: Forbidden. Invalid API token. [in /var/www/html/src/helpers/ApiHelper.php:43]
[2025-04-09 21:48:06] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 21:48:06] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:48:06] [INFO] Secure session started. [in /var/www/html/src/managers/SessionManager.php:24]
[2025-04-09 21:48:06] [INFO] New session initialized. [in /var/www/html/src/managers/SessionManager.php:25]
[2025-04-09 21:48:06] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:48:06] [INFO] Routes initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:48:06] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:11]
[2025-04-09 21:48:06] [INFO] Application initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:48:06] [INFO] API entry point initialized. [in /var/www/html/api.php:23]
[2025-04-09 21:48:06] [INFO] Initializing application... [in /var/www/html/api.php:29]
[2025-04-09 21:48:06] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:48:06] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:48:06] [INFO] Routes initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:48:06] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:29]
[2025-04-09 21:48:06] [INFO] Application initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:48:06] [INFO] Routes loaded successfully. [in /var/www/html/api.php:35]
[2025-04-09 21:48:06] [INFO] Incoming request: POST /api/v1/auth/register [in /var/www/html/api.php:47]
[2025-04-09 21:48:06] [INFO] Matched route: POST /api/v1/auth/register. Executing callback. [in /var/www/html/api.php:72]
[2025-04-09 21:48:06] [DEBUG] ApiHelper::requireApiToken header: {"Host":"localhost:9081","User-Agent":"curl\/8.5.0","Accept":"*\/*","Content-Type":"application\/json","Authorization":"Bearer your_secure_api_token_here","Content-Length":"257"} [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 21:48:06] [INFO] API token validated successfully. [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 21:48:06] [DEBUG] ApiHelper::getInput called with Content-Type: application/json [in /var/www/html/src/controllers/v1/V1AuthController.php:49]
[2025-04-09 21:48:06] [DEBUG] Raw JSON input: {
    "firstName": "Mats",
    "lastName": "Hansen",
    "email": "mats@student.com",
    "password": "SecurePassword123!",
    "repeatPassword": "SecurePassword123!",
    "role": "student",
    "studyProgram": "Cyber Security",
    "enrollmentYear": 2025
} [in /var/www/html/src/controllers/v1/V1AuthController.php:49]
[2025-04-09 21:48:06] [INFO] Register method called with input: {"firstName":"Mats","lastName":"Hansen","email":"mats@student.com","password":"SecurePassword123!","repeatPassword":"SecurePassword123!","role":"student","studyProgram":"Cyber Security","enrollmentYear":2025} [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:06] [DEBUG] Validation result: {"errors":[],"sanitized":{"firstName":"Mats","lastName":"Hansen","email":"mats@student.com","password":"SecurePassword123!","repeatPassword":"SecurePassword123!","role":"student","studyProgram":"Cyber Security","enrollmentYear":"2025"}} [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:06] [SUCCESS] Successfully Fetching user by email: mats@student.com [in /var/www/html/src/managers/DatabaseManager.php:206]
[2025-04-09 21:48:06] [WARNING] No data found: Fetching user by email: mats@student.com [in /var/www/html/src/repositories/UserRepository.php:62]
[2025-04-09 21:48:06] [INFO] Email is not in use, proceeding to hash password. [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:06] [INFO] Profile picture uploaded to:  [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:06] [DEBUG] User object created: {"id":null,"firstName":"Mats","lastName":"Hansen","fullName":"Mats Hansen","email":"mats@student.com","role":"student","createdAt":"2025-04-09 21:48:06","updatedAt":"2025-04-09 21:48:06","studyProgram":"Cyber Security","enrollmentYear":2025} [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:06] [SUCCESS] Successfully Saving user data in database [in /var/www/html/src/repositories/UserRepository.php:44]
[2025-04-09 21:48:06] [SUCCESS] User saved to database: mats@student.com [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:06] [DEBUG] student [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:06] [SUCCESS] Registration successful for user: mats@student.com [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:06] [INFO] User stored in session. [in /var/www/html/src/controllers/v1/V1AuthController.php:54]
[2025-04-09 21:48:06] [INFO] Sending API response. Status: 201, Message: Registration successful. [in /var/www/html/src/controllers/v1/V1AuthController.php:57]
[2025-04-09 21:48:47] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 21:48:47] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:48:47] [INFO] Secure session started. [in /var/www/html/src/managers/SessionManager.php:24]
[2025-04-09 21:48:47] [INFO] New session initialized. [in /var/www/html/src/managers/SessionManager.php:25]
[2025-04-09 21:48:47] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:48:47] [INFO] Routes initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:48:47] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:11]
[2025-04-09 21:48:47] [INFO] Application initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 21:48:47] [INFO] API entry point initialized. [in /var/www/html/api.php:23]
[2025-04-09 21:48:47] [INFO] Initializing application... [in /var/www/html/api.php:29]
[2025-04-09 21:48:47] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 21:48:47] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:48:47] [INFO] Routes initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:48:47] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:29]
[2025-04-09 21:48:47] [INFO] Application initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 21:48:47] [INFO] Routes loaded successfully. [in /var/www/html/api.php:35]
[2025-04-09 21:48:47] [INFO] Incoming request: POST /api/v1/auth/register [in /var/www/html/api.php:47]
[2025-04-09 21:48:47] [INFO] Matched route: POST /api/v1/auth/register. Executing callback. [in /var/www/html/api.php:72]
[2025-04-09 21:48:48] [DEBUG] ApiHelper::requireApiToken header: {"Host":"backend","Authorization":"Bearer your_secure_api_token_here","Accept":"application\/json","Content-Length":"65471","Content-Type":"multipart\/form-data; boundary=------------------------08c3296b3f654ffa"} [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 21:48:48] [INFO] API token validated successfully. [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 21:48:48] [DEBUG] ApiHelper::getInput called with Content-Type: multipart/form-data; boundary=------------------------08c3296b3f654ffa [in /var/www/html/src/controllers/v1/V1AuthController.php:49]
[2025-04-09 21:48:48] [INFO] Returning $_POST from ApiHelper::getInput. [in /var/www/html/src/controllers/v1/V1AuthController.php:49]
[2025-04-09 21:48:48] [INFO] Register method called with input: {"firstName":"tony","lastName":"stark","email":"tony@strak.com","password":"Drowssap123!","repeatPassword":"Drowssap123!","role":"lecturer","studyProgram":"","enrollmentYear":"","courseCode":"ITF1234","courseName":"skjdf","coursePin":"8888"} [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [DEBUG] Validation result: {"errors":[],"sanitized":{"firstName":"tony","lastName":"stark","email":"tony@strak.com","password":"Drowssap123!","repeatPassword":"Drowssap123!","role":"lecturer","courseCode":"ITF1234","courseName":"skjdf","coursePin":"8888"}} [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [SUCCESS] Successfully Fetching user by email: tony@strak.com [in /var/www/html/src/managers/DatabaseManager.php:206]
[2025-04-09 21:48:48] [WARNING] No data found: Fetching user by email: tony@strak.com [in /var/www/html/src/repositories/UserRepository.php:62]
[2025-04-09 21:48:48] [INFO] Email is not in use, proceeding to hash password. [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [INFO] Profile picture uploaded to: /uploads/profile_pictures/11730c1bac943fc6da2c5730dc10ba09servicesjpg [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [DEBUG] User object created: {"id":null,"firstName":"tony","lastName":"stark","fullName":"tony stark","email":"tony@strak.com","role":"lecturer","createdAt":"2025-04-09 21:48:48","updatedAt":"2025-04-09 21:48:48","imagePath":"\/uploads\/profile_pictures\/11730c1bac943fc6da2c5730dc10ba09servicesjpg"} [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [SUCCESS] Successfully Saving user data in database [in /var/www/html/src/repositories/UserRepository.php:44]
[2025-04-09 21:48:48] [SUCCESS] User saved to database: tony@strak.com [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [DEBUG] lecturer [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [INFO] User is lecturer, creating course. [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [SUCCESS] Successfully Fetching user by email: tony@strak.com [in /var/www/html/src/managers/DatabaseManager.php:206]
[2025-04-09 21:48:48] [SUCCESS] Successfully fetched single row: Fetching user by email: tony@strak.com [in /var/www/html/src/repositories/UserRepository.php:62]
[2025-04-09 21:48:48] [DEBUG] Attempting to create course... [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [SUCCESS] Successfully Saving user data in database [in /var/www/html/src/repositories/CourseRepository.php:48]
[2025-04-09 21:48:48] [DEBUG] createCourse() returned: true [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [SUCCESS] Course created for lecturer: ITF1234 [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [SUCCESS] Registration successful for user: tony@strak.com [in /var/www/html/src/controllers/v1/V1AuthController.php:51]
[2025-04-09 21:48:48] [INFO] User stored in session. [in /var/www/html/src/controllers/v1/V1AuthController.php:54]
[2025-04-09 21:48:48] [INFO] Sending API response. Status: 201, Message: Registration successful. [in /var/www/html/src/controllers/v1/V1AuthController.php:57]
[2025-04-09 22:04:26] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 22:04:26] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 22:04:46] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 22:04:46] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 22:12:48] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 22:12:48] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 22:12:59] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 22:12:59] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:40]
[2025-04-09 22:55:10] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 22:55:10] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-09 22:55:10] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 22:55:10] [INFO] Routes initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 22:55:10] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:11]
[2025-04-09 22:55:10] [INFO] Application initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 22:55:10] [INFO] API entry point initialized. [in /var/www/html/api.php:23]
[2025-04-09 22:55:10] [INFO] Initializing application... [in /var/www/html/api.php:29]
[2025-04-09 22:55:10] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-09 22:55:10] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 22:55:10] [INFO] Routes initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 22:55:10] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:29]
[2025-04-09 22:55:10] [INFO] Application initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 22:55:10] [INFO] Routes loaded successfully. [in /var/www/html/api.php:35]
[2025-04-09 22:55:10] [INFO] Incoming request: POST /api/v1/auth/register [in /var/www/html/api.php:47]
[2025-04-09 22:55:10] [INFO] Matched route: POST /api/v1/auth/register. Executing callback. [in /var/www/html/api.php:72]
[2025-04-09 22:55:10] [DEBUG] ApiHelper::requireApiToken header: {"Host":"localhost:9081","User-Agent":"curl\/8.5.0","Accept":"*\/*","Content-Type":"application\/json","Authorization":"Bearer your_secure_api_token_here","Content-Length":"257"} [in /var/www/html/src/controllers/v1/V1AuthController.php:43]
[2025-04-09 22:55:10] [INFO] API token validated successfully. [in /var/www/html/src/controllers/v1/V1AuthController.php:43]
[2025-04-09 22:55:10] [DEBUG] ApiHelper::getInput called with Content-Type: application/json [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 22:55:10] [DEBUG] Raw JSON input: {
    "firstName": "Mats",
    "lastName": "Hansen",
    "email": "mats@student.com",
    "password": "SecurePassword123!",
    "repeatPassword": "SecurePassword123!",
    "role": "student",
    "studyProgram": "Cyber Security",
    "enrollmentYear": 2025
} [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 22:55:10] [INFO] Register method called with input: {"firstName":"Mats","lastName":"Hansen","email":"mats@student.com","password":"SecurePassword123!","repeatPassword":"SecurePassword123!","role":"student","studyProgram":"Cyber Security","enrollmentYear":2025} [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 22:55:10] [DEBUG] Validation result: {"errors":[],"sanitized":{"firstName":"Mats","lastName":"Hansen","email":"mats@student.com","password":"SecurePassword123!","repeatPassword":"SecurePassword123!","role":"student","studyProgram":"Cyber Security","enrollmentYear":"2025"}} [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 22:55:10] [SUCCESS] Successfully Fetching user by email: mats@student.com [in /var/www/html/src/managers/DatabaseManager.php:206]
[2025-04-09 22:55:10] [WARNING] No data found: Fetching user by email: mats@student.com [in /var/www/html/src/repositories/UserRepository.php:62]
[2025-04-09 22:55:10] [INFO] Email is not in use, proceeding to hash password. [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 22:55:11] [INFO] Profile picture uploaded to:  [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 22:55:11] [DEBUG] User object created: {"id":null,"firstName":"Mats","lastName":"Hansen","fullName":"Mats Hansen","email":"mats@student.com","role":"student","createdAt":"2025-04-09 22:55:11","updatedAt":"2025-04-09 22:55:11","studyProgram":"Cyber Security","enrollmentYear":2025} [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 22:55:11] [SUCCESS] Successfully Saving user data in database [in /var/www/html/src/repositories/UserRepository.php:44]
[2025-04-09 22:55:11] [SUCCESS] User saved to database: mats@student.com [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 22:55:11] [DEBUG] student [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 22:55:11] [SUCCESS] Registration successful for user: mats@student.com [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 22:55:11] [INFO] Sending API response. Status: 201, Message: Registration successful. [in /var/www/html/src/controllers/v1/V1AuthController.php:52]
[2025-04-09 23:47:02] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-09 23:47:02] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-09 23:47:02] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 23:47:02] [INFO] Routes initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 23:47:02] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:11]
[2025-04-09 23:47:02] [INFO] Application initialized successfully. [in /var/www/html/api.php:11]
[2025-04-09 23:47:02] [INFO] API entry point initialized. [in /var/www/html/api.php:23]
[2025-04-09 23:47:02] [INFO] Initializing application... [in /var/www/html/api.php:29]
[2025-04-09 23:47:02] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-09 23:47:02] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 23:47:02] [INFO] Routes initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 23:47:02] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:29]
[2025-04-09 23:47:02] [INFO] Application initialized successfully. [in /var/www/html/api.php:29]
[2025-04-09 23:47:02] [INFO] Routes loaded successfully. [in /var/www/html/api.php:35]
[2025-04-09 23:47:02] [INFO] Incoming request: POST /api/v1/auth/register [in /var/www/html/api.php:47]
[2025-04-09 23:47:02] [INFO] Matched route: POST /api/v1/auth/register. Executing callback. [in /var/www/html/api.php:72]
[2025-04-09 23:47:02] [DEBUG] ApiHelper::requireApiToken header: {"Host":"backend","Authorization":"Bearer your_secure_api_token_here","Accept":"application\/json","Content-Length":"74581","Content-Type":"multipart\/form-data; boundary=------------------------21ddc16d644e56f8"} [in /var/www/html/src/controllers/v1/V1AuthController.php:43]
[2025-04-09 23:47:02] [INFO] API token validated successfully. [in /var/www/html/src/controllers/v1/V1AuthController.php:43]
[2025-04-09 23:47:02] [DEBUG] ApiHelper::getInput called with Content-Type: multipart/form-data; boundary=------------------------21ddc16d644e56f8 [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 23:47:02] [INFO] Returning $_POST from ApiHelper::getInput. [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-09 23:47:02] [INFO] Register method called with input: {"firstName":"yolo","lastName":"swaggins","email":"yolo@swaggins.com","password":"Drowssap123!","repeatPassword":"Drowssap123!","role":"lecturer","studyProgram":"","enrollmentYear":"","courseCode":"ITF1235","courseName":"asdflk","coursePin":"0000"} [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [DEBUG] Validation result: {"errors":[],"sanitized":{"firstName":"yolo","lastName":"swaggins","email":"yolo@swaggins.com","password":"Drowssap123!","repeatPassword":"Drowssap123!","role":"lecturer","courseCode":"ITF1235","courseName":"asdflk","coursePin":"0000"}} [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [SUCCESS] Successfully Fetching user by email: yolo@swaggins.com [in /var/www/html/src/managers/DatabaseManager.php:206]
[2025-04-09 23:47:02] [WARNING] No data found: Fetching user by email: yolo@swaggins.com [in /var/www/html/src/repositories/UserRepository.php:62]
[2025-04-09 23:47:02] [INFO] Email is not in use, proceeding to hash password. [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [INFO] Profile picture uploaded to: /uploads/profile_pictures/ce481ee8a3a9e3c5c167b4f007774245servicesjpg [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [DEBUG] User object created: {"id":null,"firstName":"yolo","lastName":"swaggins","fullName":"yolo swaggins","email":"yolo@swaggins.com","role":"lecturer","createdAt":"2025-04-09 23:47:02","updatedAt":"2025-04-09 23:47:02","imagePath":"\/uploads\/profile_pictures\/ce481ee8a3a9e3c5c167b4f007774245servicesjpg"} [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [SUCCESS] Successfully Saving user data in database [in /var/www/html/src/repositories/UserRepository.php:44]
[2025-04-09 23:47:02] [SUCCESS] User saved to database: yolo@swaggins.com [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [DEBUG] lecturer [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [INFO] User is lecturer, creating course. [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [SUCCESS] Successfully Fetching user by email: yolo@swaggins.com [in /var/www/html/src/managers/DatabaseManager.php:206]
[2025-04-09 23:47:02] [SUCCESS] Successfully fetched single row: Fetching user by email: yolo@swaggins.com [in /var/www/html/src/repositories/UserRepository.php:62]
[2025-04-09 23:47:02] [DEBUG] Attempting to create course... [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [SUCCESS] Successfully Saving user data in database [in /var/www/html/src/repositories/CourseRepository.php:48]
[2025-04-09 23:47:02] [DEBUG] createCourse() returned: true [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [SUCCESS] Course created for lecturer: ITF1235 [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [SUCCESS] Registration successful for user: yolo@swaggins.com [in /var/www/html/src/controllers/v1/V1AuthController.php:48]
[2025-04-09 23:47:02] [INFO] Sending API response. Status: 201, Message: Registration successful. [in /var/www/html/src/controllers/v1/V1AuthController.php:50]
[2025-04-10 00:02:49] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-10 00:02:49] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-10 00:02:49] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:11]
[2025-04-10 00:02:49] [INFO] Routes initialized successfully. [in /var/www/html/api.php:11]
[2025-04-10 00:02:49] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:11]
[2025-04-10 00:02:49] [INFO] Application initialized successfully. [in /var/www/html/api.php:11]
[2025-04-10 00:02:49] [INFO] API entry point initialized. [in /var/www/html/api.php:23]
[2025-04-10 00:02:49] [INFO] Initializing application... [in /var/www/html/api.php:29]
[2025-04-10 00:02:49] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-10 00:02:49] [INFO] Controllers initialized successfully. [in /var/www/html/api.php:29]
[2025-04-10 00:02:49] [INFO] Routes initialized successfully. [in /var/www/html/api.php:29]
[2025-04-10 00:02:49] [INFO] Routes logged successfully to /var/www/html/src/config/../../logs/routes.log [in /var/www/html/api.php:29]
[2025-04-10 00:02:49] [INFO] Application initialized successfully. [in /var/www/html/api.php:29]
[2025-04-10 00:02:49] [INFO] Routes loaded successfully. [in /var/www/html/api.php:35]
[2025-04-10 00:02:49] [INFO] Incoming request: POST /api/v1/auth/register [in /var/www/html/api.php:47]
[2025-04-10 00:02:49] [INFO] Matched route: POST /api/v1/auth/register. Executing callback. [in /var/www/html/api.php:72]
[2025-04-10 00:02:49] [DEBUG] ApiHelper::requireApiToken header: {"Host":"localhost:9081","User-Agent":"curl\/8.5.0","Accept":"*\/*","Content-Type":"application\/json","Authorization":"Bearer your_secure_api_token_here","Content-Length":"257"} [in /var/www/html/src/controllers/v1/V1AuthController.php:43]
[2025-04-10 00:02:49] [INFO] API token validated successfully. [in /var/www/html/src/controllers/v1/V1AuthController.php:43]
[2025-04-10 00:02:49] [DEBUG] ApiHelper::getInput called with Content-Type: application/json [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-10 00:02:49] [DEBUG] Raw JSON input: {
    "firstName": "Mats",
    "lastName": "Hansen",
    "email": "mats@student.com",
    "password": "SecurePassword123!",
    "repeatPassword": "SecurePassword123!",
    "role": "student",
    "studyProgram": "Cyber Security",
    "enrollmentYear": 2025
} [in /var/www/html/src/controllers/v1/V1AuthController.php:46]
[2025-04-10 00:03:36] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-10 00:03:36] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-10 00:04:26] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-10 00:04:26] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-10 00:06:48] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-10 00:06:48] [ERROR] Database connection failed: SQLSTATE[HY000] [2002] Connection refused [in /var/www/html/src/config/api-routes.php:39]
[2025-04-10 00:07:12] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-10 00:07:12] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-10 00:07:34] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-10 00:07:34] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-10 00:12:48] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-10 00:12:48] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-10 00:16:29] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-10 00:16:29] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
[2025-04-10 00:19:33] [INFO] Initializing application... [in /var/www/html/api.php:11]
[2025-04-10 00:19:33] [SUCCESS] Connected to database [in /var/www/html/src/config/api-routes.php:39]
